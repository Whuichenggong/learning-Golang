# 验证表单输入(防止篡改)

### 必填字段

### 确保输入是数字
1. strconv.Atoi()转化
2. 正则表达式匹配

### 确保输入是中文
1. unicode 包提供的 func Is(rangeTab *RangeTable, r rune) bool
2. 正则表达式匹配

### 确保输入是英文
1. unicode 包提供的 func Is(rangeTab *RangeTable, r rune) bool
2. 正则表达式匹配

### 确保输入是邮件地址
1. 正则表达式匹配

### 确保输入是手机号码
1. 正则表达式匹配

！！！ 总体来说 正则表达式是一个很全能的处理任何形式的表单输入

### 判断这个值是否是我们预设的值

### 判断单选按钮

你设定的性别男值是1，女是2，他给你发送一个3，你的程序会出现异常吗？

### 判断复选框

你设定的兴趣爱好有篮球、足球、乒乓球，他给你发送篮球、足球、乒乓球、网球，你的程序会出现异常吗？

### 判断日期和时间

你想确定用户填写的日期或时间是否有效。例如 ，用户在日程表中安排8月份的第45天开会，或者提供未来的某个时间作为生日。

Go里面提供了一个time的处理包，我们可以把用户的输入年月日转化成相应的时间，然后进行逻辑判断

### 判断身份证号码

身份证号码是18位的，我们可以用正则表达式进行判断

# 预防跨站脚本

动态站点会受到一种名为“跨站脚本攻击”（所谓动态 就是为了增强客户体验 攻击者通常会在有漏洞的程序中插入JavaScript、VBScript、 ActiveX或Flash以欺骗用户）

1. 验证所有输入数据
2. 对所有输出数据进行适当处理

func HTMLEscape(w io.Writer, b []byte) //把b进行转义之后写到w
func HTMLEscapeString(s string) string //转义s之后返回结果字符串
func HTMLEscaper(args ...interface{}) string //支持多个参数一起转义，返回结果字符串

转义就是将 HTML 特殊字符（例如 <, >, &, " 等）替换为安全的表示形式（例如 &lt;, &gt;, &amp;, &quot;），使浏览器无法将其解释为代码。


---

对于 fruit 和 gender 的值，你简单地用循环匹配。建议将这些列表转换为 map，以提升匹配效率。 把循环换成map提升效率